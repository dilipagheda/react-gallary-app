{"version":3,"sources":["SearchPhraseForm.jsx","common/Nav.jsx","photo/PhotoItem.jsx","photo/PhotoContainer.jsx","common/NotFound.jsx","common/Loader.jsx","App.jsx","config.js","index.jsx"],"names":["SearchPhraseForm","state","searchText","onSearchChange","e","_this","setState","target","value","handleSubmit","searchPhrase","preventDefault","console","log","length","currentTarget","reset","props","performSearch","react_default","a","createElement","className","onSubmit","this","type","name","placeholder","onChange","required","fill","height","viewBox","width","xmlns","d","Component","Nav","NavLink","to","PhotoItem","isError","notFound","src","photoUrl","alt","PhotoContainer","isLoading","photos","photo_PhotoItem","map","current","concat","farm","server","id","secret","key","generatePhotoItems","ResourceNotFound404","LoaderComponent","Dimmer","active","Loader","inverted","App","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","cats","dogs","computers","custom","shouldRedirect","lastTag","newTag","getPhotosByCustomTag","bind","assertThisInitialized","fetchData","updateState","searchCallBack","performRedirect","tag","_this2","url","fetch","then","response","json","jsonData","photo","catch","error","_this3","forEach","userTag","photo_PhotoContainer","Redirect","_this4","HashRouter","src_SearchPhraseForm","common_Nav","common_Loader","Switch","Route","exact","path","render","_ref","match","params","NotFound","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.8f558851.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\n\r\nclass SearchPhraseForm extends Component {\r\n  \r\n    state = {\r\n      searchText: ''\r\n    }\r\n\r\n    onSearchChange = e => {\r\n      this.setState({ searchText: e.target.value });\r\n    }\r\n    \r\n    handleSubmit = e => {\r\n      let searchPhrase = this.state.searchText;\r\n      e.preventDefault();\r\n      console.log(searchPhrase);\r\n      if(searchPhrase.length === 0) return;\r\n      e.currentTarget.reset();\r\n      this.props.performSearch(searchPhrase);\r\n    }\r\n    \r\n    render() {  \r\n        return (\r\n        <form className=\"search-form\" onSubmit={this.handleSubmit}>\r\n              <input type=\"search\" \r\n                      name=\"search\" \r\n                      placeholder=\"Search\" \r\n                      onChange={this.onSearchChange}\r\n                      required/>\r\n              <button type=\"submit\" className=\"search-button\">\r\n                  <svg fill=\"#fff\" height=\"24\" viewBox=\"0 0 23 23\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\r\n                      <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n                  </svg>\r\n              </button>\r\n        </form>);\r\n    }\r\n  }\r\n\r\n\r\n\r\nexport default SearchPhraseForm;\r\n","import React, { Component } from 'react';\r\nimport {  NavLink } from 'react-router-dom';\r\n\r\nclass Nav extends Component {\r\n  render() {\r\n    return (\r\n        <nav className=\"main-nav\">\r\n            <ul>\r\n                <li><NavLink to='/search/cats'>Cats</NavLink></li>\r\n                <li><NavLink to='/search/dogs'>Dogs</NavLink></li>\r\n                <li><NavLink to='/search/computers'>Computers</NavLink></li>\r\n            </ul>\r\n        </nav>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default Nav;\r\n","import React from 'react';\r\n\r\nconst PhotoItem = (props) =>{\r\n\r\n  if(props.isError){\r\n    return (\r\n      <li className=\"not-found\">\r\n      <h3>Oops. Something has gone wrong!</h3>\r\n      <p>There seems to be a network error. Please check your connection and try again!</p>\r\n    </li>\r\n    );\r\n  }\r\n\r\n  if(props.notFound){\r\n    return (\r\n      <li className=\"not-found\">\r\n      <h3>No Results Found</h3>\r\n      <p>You search did not return any results. Please try again.</p>\r\n    </li>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <li>\r\n     <img src={props.photoUrl} alt=\"\" />\r\n   </li>\r\n );\r\n}\r\n\r\nexport default PhotoItem;\r\n","import React, { Component } from 'react';\r\nimport PhotoItem from './PhotoItem';\r\n\r\n\r\nclass PhotoContainer extends Component {\r\n\r\n  generatePhotoItems(){\r\n    if(this.props.isLoading){\r\n      return null;\r\n    }\r\n    let photos = this.props.photos;\r\n\r\n    if(this.props.isError){\r\n      return <PhotoItem isError={true} />\r\n    }\r\n    console.log(\"length:\"+photos.length+\"loader:\"+this.props.isLoading);\r\n    if(photos.length === 0){\r\n      return <PhotoItem notFound={true} />\r\n    }\r\n\r\n    return photos.map((current)=>{\r\n      let photoUrl = `https://farm${current.farm}.staticflickr.com/${current.server}/${current.id}_${current.secret}_q.jpg`;\r\n      return <PhotoItem photoUrl={photoUrl} key={current.id}/>\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <div className=\"photo-container\">\r\n        <h2>Results</h2>\r\n        <ul>\r\n            {this.generatePhotoItems()}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PhotoContainer;\r\n","import React, { Component } from 'react';\r\n\r\nclass ResourceNotFound404 extends Component {\r\n  render() {\r\n    return (\r\n          <div className=\"photo-container\">\r\n              <h1>Resource not found - 404</h1>\r\n              <h3>Please check your URL and try again!</h3>\r\n          </div>\r\n\r\n        );\r\n                              \r\n  }\r\n}\r\n\r\nexport default ResourceNotFound404;\r\n","import React from 'react'\r\nimport { Dimmer, Loader } from 'semantic-ui-react'\r\n\r\nconst LoaderComponent = (props) => { \r\n    if(props.isLoading){\r\n        return (<Dimmer active>\r\n                <Loader inverted>Loading</Loader>\r\n                </Dimmer>);\r\n    }else{\r\n        return null;\r\n    }\r\n\r\n}\r\n\r\nexport default LoaderComponent","import React, { Component } from 'react';\r\nimport {\r\n  HashRouter,\r\n  Route,\r\n  Switch,\r\n  Redirect\r\n} from 'react-router-dom';\r\nimport './index.css';\r\nimport SearchPhraseForm from './SearchPhraseForm';\r\nimport Nav from './common/Nav';\r\nimport PhotoContainer from './photo/PhotoContainer';\r\nimport NotFound from './common/NotFound';\r\nimport Loader from './common/Loader';\r\nimport appKey from './config'\r\n\r\nclass App extends Component {\r\n\r\n  state = {\r\n    cats:[],\r\n    dogs:[],\r\n    computers:[],\r\n    custom:[],\r\n    shouldRedirect:false,\r\n    lastTag:'',\r\n    newTag:'',\r\n    isLoading:false,\r\n    isError:true\r\n  }\r\n\r\n      \r\n  constructor(props){\r\n    super(props);\r\n    this.getPhotosByCustomTag = this.getPhotosByCustomTag.bind(this);\r\n    this.fetchData = this.fetchData.bind(this);\r\n    this.updateState = this.updateState.bind(this);\r\n    this.searchCallBack = this.searchCallBack.bind(this);\r\n    this.performRedirect = this.performRedirect.bind(this);\r\n\r\n  }\r\n\r\n  fetchData(tag){\r\n    const url = `https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=${appKey}&tags=${tag}&per_page=24&format=json&nojsoncallback=1`;\r\n    this.setState({isLoading:true});\r\n    fetch(url)\r\n        .then( response => response.json())\r\n        .then( jsonData => {\r\n          this.updateState(tag,jsonData.photos.photo);\r\n        })\r\n        .catch( error => {\r\n          console.log(error)\r\n          this.setState({isLoading:false, isError:true});\r\n        });\r\n  }\r\n\r\n  updateState(tag,photos){\r\n    if(tag===\"cats\"){\r\n      this.setState({cats:photos,isLoading:false, isError:false});\r\n    }else if(tag===\"dogs\"){\r\n      this.setState({dogs:photos,isLoading:false, isError:false});\r\n    }else if(tag===\"computers\"){\r\n      this.setState({computers:photos,isLoading:false, isError:false});\r\n    }else{\r\n      this.setState({custom:photos,isLoading:false, isError:false});\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    let initalTags = [\"cats\", \"dogs\", \"computers\"];\r\n    initalTags.forEach(tag=>{\r\n      this.fetchData(tag);\r\n    });\r\n  }\r\n\r\n  getPhotosByCustomTag(userTag){\r\n    if(this.state.lastTag !== userTag){\r\n      this.setState({lastTag:userTag});\r\n      this.fetchData(userTag);\r\n    }\r\n    return <PhotoContainer photos={this.state.custom} isError={this.state.isError} isLoading={this.state.isLoading}/>\r\n  }\r\n\r\n  searchCallBack(userTag){\r\n    console.log('searchCallBack '+userTag);\r\n    this.setState({shouldRedirect:true});\r\n    this.setState({newTag:userTag});\r\n  }\r\n\r\n  performRedirect(){\r\n    if(this.state.shouldRedirect){\r\n      this.setState({shouldRedirect:false});\r\n      return <Redirect to={`/search/${this.state.newTag}`} />\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <HashRouter>\r\n        <div className=\"container\">\r\n          <SearchPhraseForm performSearch={this.searchCallBack}/>\r\n          <Nav />\r\n          {this.performRedirect()}\r\n          <Loader isLoading={this.state.isLoading} />\r\n\r\n          <Switch>\r\n            <Route exact path=\"/\" render = {()=> !this.state.isLoading?<Redirect to=\"/search/cats\" />:null} />\r\n            <Route exact path=\"/search/cats\" render={ () => !this.state.isLoading?<PhotoContainer photos={this.state.cats} isError={this.state.isError}/>:null  } />\r\n            <Route exact path=\"/search/dogs\" render={ () => !this.state.isLoading?<PhotoContainer photos={this.state.dogs} isError={this.state.isError}/>:null } />\r\n            <Route exact path=\"/search/computers\" render={ () => !this.state.isLoading?<PhotoContainer photos={this.state.computers} isError={this.state.isError}/>:null} />\r\n\r\n            <Route exact path=\"/search/:tag/\" render={({match})=>{ \r\n              return this.getPhotosByCustomTag(match.params.tag)}} />\r\n            \r\n            <Route render = {()=> <NotFound  />} />\r\n          </Switch>\r\n\r\n          \r\n        </div>\r\n      </HashRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","const apiKey = '0b594acb7d9a3ea9379a41ad5ef95933';\r\nexport default apiKey;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}